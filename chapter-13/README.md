## 享元模式  
最适合解决因创建大量类似对象而导致的性能问题  

#### 享元的结构  
通过将对象`内部状态`划分为`内部数据`和`外部数据`实现`享元`  

内部数据 - 类内部方法的必须信息  
外部数据 - 可以从类身上剥离并存储在外部的信息  

将内部数据相同的对象替换为一个共享对象  

使用工厂创建共享对象以便跟踪已经实例化的对象, 只在内部状态不同的时候才创建新的对象  
对象的外部状态被保存在一个管理器对象中  

#### 管理外在状态  
1. 管理器, 一个集中管理的数据库, 用于存放外在状态及其所属的享元对象  
2. 组合模式

#### 享元模式的适用场合  
1. 网页中必须使用大量资源密集型对象  
2. 对象中保存的数据至少有一部分能被转化为外在数据  
3. 将外在数据分离书去后独一无二的对象的数目较少  

#### 实现享元模式的一般步骤  
1. 抽出外在数据  
2. 创建一个用于控制该类的实例化工厂  
3. 创建一个用来保存外在数据的管理器  

#### 享元模式之利  
降低资源负荷  

#### 享元模式之弊  
1. 在不必要的地方使用会降低效率  
2. 影响调试(出错的地方变成了 3 个: 管理器/工厂/享元)
